{% extends "base.html" %}

{% block title %}Admin Dashboard | CCCGJ{% endblock %}

{% block head_extra %}
    <style>
        .dashboard-container { padding-top: 50px; padding-bottom: 50px; }
        .card { background: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 2rem; }
        .card-header { padding: 1rem 1.5rem; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        .card-body { padding: 1.5rem; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
        th { font-weight: 600; color: #555; }
        .btn-sm { padding: 0.25rem 0.5rem; font-size: 0.875rem; }
        .btn-danger { background-color: #dc2626; color: white; border: none; }
        .btn-info { background-color: #0ea5e9; color: white; border: none; margin-right: 5px; }
        .header-stat { background: #f8fafc; padding: 0.5rem 1rem; border-radius: 4px; display: inline-flex; align-items: center; gap: 0.5rem; }
        .header-stat-value { font-weight: bold; color: #2563eb; }
    </style>
{% endblock %}

{% block nav_links %}
            <div style="display: flex; gap: 20px; align-items: center;">
                <a href="/" style="text-decoration: none; color: #333;">Visit Site</a>
                <button id="logout-btn" class="btn btn-sm btn-danger">Logout</button>
            </div>
{% endblock %}

{% block footer %}{% endblock %}

{% block content %}
    <div class="container dashboard-container">
        <div class="d-flex justify-content-between align-items-center mb-4 dashboard-header-container" style="display: flex; justify-content: space-between; margin-bottom: 2rem;">
            <h1>Dashboard</h1>
            <div class="header-stat">
                <span>Total Messages:</span>
                <span class="header-stat-value" id="total-messages">Loading...</span>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h5 style="margin: 0;">Contact Messages</h5>
                <button class="btn btn-sm btn-info" onclick="location.reload()"><i class="fas fa-sync"></i> Refresh</button>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
                <div id="no-messages" style="display: none; text-align: center; color: #666; margin-top: 1rem;">No messages found.</div>
            </div>
        </div>
    </div>

    <script src="/static/js/admin.js"></script>
{% endblock %}
